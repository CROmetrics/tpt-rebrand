.#{$TAG}-checkout:not(.no-rebrand-styles) {
  *:not(.tpticon) {
    font-family: "Graphik" !important;
  }

  [class*="SkinnyHeaderLayout"] .row > [class*="col"]:not(:first-child) {
    display: none !important;
  }

  /* Main contents */
  [class*="SkinnyHeaderLayout"] ~ span > [class*="CheckoutPageLayout"] {
    margin: 57px 0 96px;

    > div > .container {
      width: 1130px;
      padding: 0;

      .row, [class*="col"] {
        padding: 0;
        border: none;
        margin: 0;
      }

      > .row.justify-content-between {
        > div:first-child {
          min-width: 729px;
        }

        > div:last-child {
          min-width: 353px;
        }
      }
    }

    h1 {
      font-family: "Tiempos" !important;
      font-size: 39px;
      line-height: 140%;
      font-weight: 500;
      margin-bottom: 0;
    }

    .CheckoutPageLayout--responsive__subtitle {
      color: #767676;
      line-height: 160%;
      margin: 4px 0 48px;
    }

    /* Form */
    .BillingAddressFormBespoke--responsive__title {
      font-size: 20px;
      line-height: 140%;
      margin: 0 0 16px;
    }

    .BillingAddressFormBespoke--responsive form {
      .Label__title, .Label__caption {
        margin-bottom: 8px;
      }

      .Label__title {
        line-height: 24px;
        opacity: 0.8;
      }

      label {
        margin-bottom: 32px;

        input, select {
          font-size: 16px !important;
          padding: 12px 16px;
          border: 1px solid #949494;
          border-radius: 4px;

          &::placeholder, &::-ms-input-placeholder {
            opacity: 0.5;
            color: #949494;
          }

          &:hover {
            border-color: #474747;
          }
        }

        input:active, input.focus-visible {
          border-color: #222222;
          border-width: 2px;
        }
      }

      .row > div > a {
        display: block;
        margin-left: 16px;
      }

      #label_address, #label_postalCode, #label_state {
        margin-bottom: 8px;
      }

      #label_saveAddress.Label--inline, #label_saveAddress #label_saveAddress {
        margin: 0;
      }

      #label_firstName, #label_lastName, #label_state, #label_postalCode {
        width: 350px;
      }

      #label_lastName, #label_postalCode {
        margin-left: auto;
      }

      #label_address2 {
        margin-top: 24px;
      }

      #label_saveAddress .Label__caption {
        font-size: 16px !important;
        margin-bottom: 0 !important;
      }

      a {
        color: #3B81FD;
        font-weight: 600;
        margin: 5.5px 0 32px;
      }

      .Label__caption.#{$TAG}-asterisk {
        color: #DA1414;
        margin-left: 1px;
        position: absolute;
        top: 2px;
      }
    }

    .#{$TAG}-cart-checkbox {
      display: block;
      margin-bottom: 32px;

      > label {
        display: flex;
        align-items: center;

        > span {
          margin-bottom: 4px !important;
        }
      }
    }

    [data-braintree-id="methods-label"] {
      font-size: 16px;
      font-weight: 600;
      opacity: 0.8;
      margin-bottom: 16px;
    }

    [data-braintree-id="methods-edit"] {
      color: #3B81FD;
      font-size: 16px;
      font-weight: 600;
      text-decoration: none;
    }

    [data-braintree-id="methods"] {
      margin-bottom: 8px;
    }

    [data-braintree-id="upper-container"] {
      margin-top: 16px;
    }

    [data-braintree-id="card-sheet-header"] .braintree-sheet__text {
      font-size: 20px;
      line-height: 160%;
    }

    .braintree-show-methods [data-braintree-id="methods-label"].braintree-no-payment-method-selected {
      transform: translateY(35px);
    }

    .braintree-method.braintree-method--active {
      padding: 16px 24px;
      border: 1px solid #767676 !important;

      .braintree-method__label {
        font-size: 20px;
        font-weight: 600;
        margin-left: 24px;
      }

      .braintree-method__label--small {
        font-size: 16px;
      }
    }

    .braintree-form__flexible-fields > div {
      padding-left: 8px;

      &:first-child {
        padding: 0;
      }
    }

    [data-braintree-id="toggle"] {
      background: none;
      padding: 0;

      span {
        color: #3B81FD;
        font-size: 16px;
        font-weight: 600;
        border: none;
      }
    }

    .braintree-option .braintree-option__label {
      font-size: 20px !important;
      line-height: 160% !important;
      color: #222222 !important;
    }

    .CardInformationBespoke--responsive {
      margin-bottom: 32px;
    }

    .CheckoutCardLayout--responsive {
      margin-top: 24px;
    }

    .CheckoutCardLayout--responsive__subtitle {
      font-size: 20px;
      line-height: 140%;
      margin: 16px 0;
    }

    .ReviewOrderBespoke--responsive {
      margin: 0 0 48px;

      .ReviewOrderBespoke--responsive__headerText {
        font-size: 20px;
        line-height: 140%;
        font-weight: 600;
      }

      .ReviewOrderBespoke--responsive__header {
        padding: 0;
        margin: 0 0 16px;
      }
    }

    .CreditCardFormBespoke--responsive__totalContainer {
      display: flex;
      align-items: center;
      color: #767676;
      font-size: 16px;
      margin: 0 0 8px !important;

      .CreditCardFormBespoke--responsive__total {
        color: #222222;
        margin-left: 8px;

        span > span {
          font-size: 25px;
          line-height: 150%;
        }
      }
    }

    .CheckoutCaveat--responsive {
      color: #767676;
      font-size: 16px;
      line-height: 160%;
      margin-bottom: 24px;

      a {
        color: #3B81FD;
      }
    }

    .CreditCardFormBespoke--responsive__responsiveHide {
      margin-bottom: 64px;

      button {
        width: 305px !important;
        color: #173E3E !important;
        background-color: #67E0A6 !important;
        border-radius: 999px !important;
        font-weight: 600 !important;
        line-height: 120% !important;

        &:hover {
          background-color: #42CD8A !important;
        }

        &:active {
          background-color: #3FBC88 !important;
        }
      }
    }

    .CheckoutPageLayout--responsive__footer {
      display: none;
    }

    .ReviewOrderBespoke--responsive__itemDetails button {
      border: 1px solid #767676;
      padding: 16px 24px;

      span {
        font-size: 16px;
      }
    }
  }

  /* Right rail */
  .CheckoutPageLayout--responsive__orderActions {
    max-width: 353px;
    min-width: 353px;
    margin-left: auto;

    .OrderActionsBespoke--responsive__box {
      font-family: "Graphik";
      padding: 24px;
      border: 1px solid #E9E9E9;

      > * {
        padding: 0;
      }

      .OrderActionsSummary--responsive {
        padding-top: 0 !important;
      }

      .OrderActionsSummary--responsive__header {
        font-size: 24px;
        font-weight: 600;
        line-height: 140%;
        margin-bottom: 24px;
      }

      .OrderActionsSummary--responsive__lineItems {
        padding: 0 0 24px;
        border: none;

        &:first-child, &:last-child {
          padding-bottom: 0;
        }
      }

      [data-testid="Price-total"] {
        font-size: 16px;
        padding-top: 0;
      }

      .OrderActionsBespoke--responsive__checkoutOptions {
        .OrderActionsBespoke--responsive__padded {
          padding: 0;
        }

        a.Button, button {
          font-family: inherit;
          border-radius: 999px;

          &:disabled {
            color: white;
            background-color: #C8C8C8;
          }

          .Button__iconLeft {
            margin-right: 8px;
          }
        }

        a[class*="Button"] {
          color: #173E3E !important;
          background-color: #67E0A6 !important;
        }

        .OrderActionsBespoke--responsive__trustLanguage {
          color: #767676;
          font-weight: 300;
          padding: 12px 0 0;
        }
      }
    }

    .DiscountsBespoke--responsive {
      margin-top: 48px;

      .DiscountsBespoke--responsive__loggedOut {
        background: none;
        padding: 0 13px;

        a {
          font-family: "Graphik";
          color: #3B81FD;
        }
      }
    }

    .OrderActionsSummary--responsive__lineItems:first-of-type li {
      line-height: 160%;
      font-size: 16px;
      color: #222222;
      padding: 0;
      margin: 0 0 16px !important;

      > * {
        margin: 0;
      }
    }

    .OrderActionsSummary--responsive__lineItems li {
      line-height: 160%;
    }

    .Price-estimatedTax {
      margin-bottom: 0 !important;
    }

    [data-testid="Price-itemTotal"] .OrderModifierLineItem__price, .OrderActionsSummary--responsive__lineItems__taxMessage {
      color: #767676;
    }

    .OrderActionsSummary--responsive__header__productsTotalCount, .OrderActionsSummary--responsive__header__productsTotalCount__label {
      color: #222222;
    }

    .OrderActionsSummary--responsive__lineItems__taxMessage {
      font-size: 12px;
      line-height: 160%;
      padding-bottom: 24px;
      border-bottom: 1px solid #CCCCCC;
    }

    .OrderActionsSummary--responsive__lineItems:last-of-type li {
      margin-top: 24px;

      + li {
        margin-top: 16px;
      }
    }

    .OrderActionsBespoke--responsive__checkoutOptions {
      padding: 0;
      margin: 24px 0 0;

      button {
        background-color: #67E0A6 !important;
        color: #173E3E !important;
        line-height: 120% !important;
        margin-bottom: 8px !important;

        &:hover {
          background-color: #42CD8A !important;
        }

        &:active {
          background-color: #3FBC88 !important;
        }
      }
    }

    [data-testid="Price-totalDiscount"] {
      padding: 0;
    }

    .CheckoutCaveat--responsive {
      font-size: 12px !important;
      line-height: 160% !important;
      margin: 0 !important;

      a {
        color: #3B81FD;
      }
    }

    .DiscountsBespoke--responsive {
      font-family: "Graphik";

      .Accordion__trigger > span {
        line-height: 160%;
      }

      .Accordion__isOpen > .Accordion__trigger {
        border-bottom: none;
      }

      .Accordion__trigger {
        font-family: "Graphik";
        font-size: 16px;
        padding: 16px 24px;
        border: 1px solid #E9E9E9;
      }

      .Accordion__container {
        padding: 0 24px 16px;

        form {
          padding-top: 16px;
          border-top: 1px solid #CCCCCC;
        }

        form .Label__title, form .InputWrapper input {
          margin-bottom: 8px;
        }

        form .Label__title {
          line-height: 160% !important;
        }

        form .InputWrapper input {
          border-color: #767676;
          border-radius: 4px;
        }

        button {
          font-family: "Graphik";
        }
      }

      .Accordion__container button {
        color: white !important;
        background-color: #222222;
        border-radius: 999px;
        padding: 5.5px 16px;

        &:disabled {
          background-color: #C8C8C8;
        }
      }
    }
  }

  .Accordion__chevron__isOpen {
    color: black !important;
  }

  .DiscountsBespoke--responsive__help a {
    color: #3B81FD !important;
    line-height: 160%;
  }

  [data-braintree-id="card"] {
    .braintree-sheet__content.braintree-sheet__content--form {
      padding: 24px 24px 16px !important;
    }

    .braintree-form__label {
      color: #222222 !important;
      font-size: 16px !important;
      font-weight: 600 !important;
      margin-bottom: 8px !important;

      .braintree-form__descriptor {
        color: #222222 !important;
        font-size: 16px !important;
        font-weight: 400 !important;
      }
    }

    [data-braintree-id="number-field-group"] {
      padding: 0 !important;
      margin-bottom: 16px !important;

      + div {
        margin-bottom: 16px !important;

        > div {
          margin-bottom: 0 !important;
        }
      }
    }

    .braintree-form__field.braintree-form__checkbox {
      margin-top: 3px !important;

      div {
        font-weight: 400 !important;
      }
    }
  }

  [data-braintree-id="hiper-card-icon"] {
    display: none !important;
  }

  .#{$TAG}-asterisk {
    color: #DA1414 !important;
  }

  .DiscountsBespoke--responsive .Accordion + .Accordion {
    margin-top: 16px;
  }

  .Accordion__container {
    border-color: #E9E9E9 !important;
  }

  .ReviewOrderBespoke--responsive__itemDetails .Accordion {
    &.Accordion__isOpen button {
      border-bottom: none !important;
    }

    .Accordion__container {
      padding: 0 24px;
      border-color: #767676 !important;

      .CartProductRowListLayout--responsive__product {
        padding: 24px 0;
        border-top: 1px solid #E4E4E4;
        border-bottom: none;

        .ProductRowImageBespoke img {
          width: 162px;
          height: 162px;
          border-radius: 8px;
          margin: 0;
        }

        .CartProductRowLayout--responsive {
          > .row > div {
            &:first-child {
              max-width: fit-content;
              margin-right: 32px;
            }

            &:last-child {
              flex: 0 !important;
            }
          }

          .ProductRowTitleBespoke {
            margin-bottom: 10px;

            [data-testid="ProductRowTitleBespoke__link"] {
              color: #222222;
            }
          }

          .ProductRowStoreBespoke__storeName {
            margin-bottom: 16px;
          }

          .TruncatedTextBox {
            min-height: 4.5em !important;
            height: 4.5em !important;
            line-height: 150% !important;
          }

          .ProductRowParentBundleBespoke {
            line-height: 150%;
            margin: 22px 0 0;

            a {
              color: #3B81FD;
              font-weight: 500;
              line-height: 160%;
            }
          }
        }

        .ProductRowStoreBespoke {
          display: flex;
          align-items: center;
          margin-bottom: 16px;

          > a {
            margin: 0 8px;
            order: 1;

            img {
              width: 24px !important;
              height: 24px !important;
            }
          }

          > span {
            margin: 0;
            order: 0;
            white-space: nowrap;
            line-height: 160%;
            color: #767676;
          }

          > div {
            margin: 0;
            order: 2;
            margin: 0 !important;

            a {
              font-weight: 500;
              line-height: 160%;
              color: #3B81FD;
            }
          }
        }

        .CartProductRowLayout--responsive__grid {
          grid-template-columns: 335px 150px;

          .CartProductRowLayout--responsive__gridPrice {
            margin-left: 32px;
          }

          .CartProductRowPriceBespoke {
            font-size: 20px;
            line-height: 150%;
            margin-bottom: 4px;

            .CartProductRowPriceBespoke__lineThrough {
              color: #767676;
              line-height: 137.5%;
              margin-bottom: 4px;
            }
          }

          .ProductRowFileInfoBespoke {
            margin: 0;

            .ProductRowFileTypeBespoke__boldText {
              color: #222222;
              margin: 4px 0 0;
            }
          }

          .CartProductRowLayout--responsive__licenseCount {
            margin: 32px 0 0;

            span {
              color: #767676;
              font-size: 14px;
              line-height: 150%;
            }
          }

          .ProductRowRatingBespoke__evaluationRating {
            margin: 0 !important;
          }

          .EvaluationStarRating__wrapper__categoryWrap {
            color: #666666;
            font-size: 14px;
            line-height: 150%;
          }
        }

        [data-testid="ProductRowTitleBespoke__link"] {
          font-size: 20px;
          font-weight: 500;
          line-height: 150%;
        }
      }
    }
  }

  [data-testid="Price-Discount"], [data-testid="Price-totalDiscount"], [data-testid="Price-accountBalance"] {
    span, div {
      color: #255752 !important;
    }
  }

  [data-testid="Price-promo"] {
    span, div {
      color: #173E3E !important;
    }
  }

  .OrderModifierLineItem__deleteLink {
    display: flex !important;
    align-items: center !important;
    margin-top: 5.5px;

    a {
      font-size: 14px;
      line-height: 150%;
      color: #3B81FD !important;
      font-weight: 600;
      text-transform: capitalize;

      span {
        color: #3B81FD !important;
        margin-right: 8px;
        text-decoration: none !important;
      }
    }
  }

  .OrderActionsSummary--responsive__lineItems:first-of-type li[data-testid="Price-taxPlaceholder"] {
    margin-bottom: 0 !important;
  }

  #label_AmountInput {
    > span {
      position: relative !important;
      background-color: transparent !important;

      &::before {
        display: none !important;
      }

      svg {
        position: absolute;
        top: 14px;
        left: 17px;
      }

      input {
        padding: 12px 16px 12px 44px !important;
      }

      span:not([class]) {
        margin-left: 6px !important;
      }
    }
  }

  &-account-label {
    font-weight: normal !important;
  }

  .SkinnyHeaderLayout--responsive .container {
    padding: 0 !important;
    width: 1130px !important;
  }

  .CheckoutCardLayout--responsive .ReviewOrderBespoke--responsive .Accordion__container .CartProductRowListLayout--responsive__product .CartProductRowLayout--responsive .CartProductRowLayout--responsive__easelInfo {
    justify-content: center !important;

    > div:last-child {
      flex-grow: 1 !important;
    }
  }

  .SkinnyHeaderLayout--responsive__row .SkinnyHeaderLayout__Logo img {
    margin-left: -1px !important;
  }
}
